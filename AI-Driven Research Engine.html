<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI-Driven Legal Research Engine</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #e0f2fe, #bfdbfe);
      transition: background 0.4s ease-in-out;
    }
    body.dark {
      background: linear-gradient(135deg, #111827, #1f2937);
    }
    .glass {
      backdrop-filter: blur(12px);
      background: rgba(255, 255, 255, 0.8);
    }
    body.dark .glass {
      background: rgba(31, 41, 55, 0.7);
    }
    .loading-spinner {
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top-color: #ffffff;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .typing {
      display: inline-block;
      overflow: hidden;
      white-space: nowrap;
      border-right: 3px solid #3b82f6;
      animation: typing 3s steps(40, end), blink 0.7s step-end infinite;
    }
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    @keyframes blink {
      50% { border-color: transparent }
    }
  </style>
</head>
<body class="p-6 flex items-center justify-center">
  <div class="glass p-8 rounded-2xl shadow-2xl w-full max-w-4xl transform transition-transform duration-500 hover:scale-[1.01]">
    <!-- Header -->
    <div class="flex justify-between items-center mb-6">
      <h1 class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white">AI-Driven Research Engine</h1>
      <button id="theme-toggle" class="p-2 bg-gray-200 dark:bg-gray-700 rounded-lg shadow hover:scale-105 transition">
        üåó
      </button>
    </div>

    <!-- Search Form -->
    <div class="mb-8">
      <div class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4 mb-4">
        <input id="query-input" type="text" 
               class="flex-grow w-full p-4 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-300 dark:bg-gray-800 dark:text-white dark:border-gray-600" 
               placeholder="Enter your legal query...">
        <button id="search-button" 
                class="w-full md:w-auto p-4 bg-blue-600 text-white rounded-xl shadow-lg hover:bg-blue-700 hover:shadow-xl transition duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500">
          üîç Search
        </button>
      </div>
      <div id="loading-message" class="hidden flex items-center justify-center space-x-3 text-white bg-blue-600 rounded-xl p-3 shadow-md">
        <div class="loading-spinner"></div>
        <span>Analyzing your query with AI...</span>
      </div>
    </div>

    <!-- Dynamic Results Section -->
    <div id="results-section" class="hidden mt-8">
      <h2 class="text-2xl font-semibold text-gray-700 dark:text-gray-100 mb-4 border-b-2 border-blue-200 pb-2">AI Results</h2>
      <div id="results-content" class="space-y-6"></div>
    </div>
  </div>

  <script>
    const queryInput = document.getElementById('query-input');
    const searchButton = document.getElementById('search-button');
    const loadingMessage = document.getElementById('loading-message');
    const resultsSection = document.getElementById('results-section');
    const resultsContent = document.getElementById('results-content');
    const themeToggle = document.getElementById('theme-toggle');

    const cases = [
      { case: 'ABC v. XYZ Co. (2022)', summary: 'This judgment set a precedent for corporate liability in commercial contracts, particularly concerning breach of fiduciary duty.' },
      { case: 'Supreme Court v. PQR Industries (2021)', summary: 'Clarified the interpretation of Section 12A of the Insolvency and Bankruptcy Code, emphasizing creditor consent.' },
      { case: 'Delhi HC v. State Bank of India (2020)', summary: 'Involved enforceability of security interests in loan agreements and analyzed the SARFAESI Act.' },
      { case: 'MNO Ltd. v. Tax Dept (2019)', summary: 'Explained retrospective effect of tax exemptions under GST law.' },
      { case: 'Consumer Forum v. Retail Chain (2018)', summary: 'Strengthened consumer protection rights and mandatory refunds policy.' }
    ];

    function generateDynamicContent(query) {
      const shuffled = cases.sort(() => 0.5 - Math.random()).slice(0, 3);
      resultsContent.innerHTML = `
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-xl shadow-inner border border-gray-200 dark:border-gray-700">
          <h3 class="text-xl font-medium text-gray-800 dark:text-gray-100 mb-2">AI-Generated Brief</h3>
          <p class="text-gray-600 dark:text-gray-300 leading-relaxed typing">
            Based on your query regarding "${query}", our AI engine has analyzed legal databases, case laws, and statutes. Here are the most relevant precedents and legal interpretations.
          </p>
        </div>
        <div>
          <h3 class="text-xl font-medium text-gray-800 dark:text-gray-100 mb-4">Key Judgments</h3>
          <div class="space-y-4">
            ${shuffled.map(j => `
              <div class="bg-gray-50 dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700 shadow-sm transition-transform duration-300 hover:scale-[1.02]">
                <h4 class="font-semibold text-blue-700 dark:text-blue-400 text-lg">${j.case}</h4>
                <p class="text-sm text-gray-500 dark:text-gray-300 my-2">${j.summary}</p>
                <a href="#" class="text-blue-500 hover:underline text-sm font-medium" target="_blank">View Full Judgment ‚Üí</a>
              </div>
            `).join('')}
          </div>
        </div>
        <div>
          <h3 class="text-xl font-medium text-gray-800 dark:text-gray-100 mb-4">AI Insight Graph</h3>
          <img src="https://placehold.co/800x400/e5e7eb/6b7280?text=AI+Citation+Network" class="w-full rounded-xl shadow-md">
        </div>
      `;
    }

    searchButton.addEventListener('click', () => {
      const query = queryInput.value.trim();
      if (!query) {
        resultsContent.innerHTML = '<p class="text-red-500 text-center">‚ö†Ô∏è Please enter a legal query to search.</p>';
        resultsSection.classList.remove('hidden');
        return;
      }

      resultsSection.classList.add('hidden');
      loadingMessage.classList.remove('hidden');

      setTimeout(() => {
        loadingMessage.classList.add('hidden');
        generateDynamicContent(query);
        resultsSection.classList.remove('hidden');
      }, 2000);
    });

    queryInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') searchButton.click();
    });

    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
    });
  </script>
</body>
</html>
